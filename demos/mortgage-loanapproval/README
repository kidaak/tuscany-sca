Mortgage Loan Approval Demo
===========================

This demo was used as an example in the java developer journal article:  http://jdj.sys-con.com/read/325183.htm.

The demo consists of two modules:

mortgage-loanapproval: provides the business logic for loan approval.  
mortgage-creditcheck: handles credit check requests. This is a java component exposed as a webservice running on the embedded Tomcat.

Please check mortgage_assembly.png file that is located in this directory for a high level view of the demo.

Here is what happens when you run the demo. A loan approval request for customer with id 111-222-3333 
gets initiated when mortgage-loanapproval application is run. Depending on what the 'imaginary' credit
 status of this person is, the loan gets approved or diapproved. 

You would need two command windows to run mortgage loan approval composite. The order in which the
applications are run is important. Run mortgage-creditcheck first since mortgage-loanapproval is dependent on 
it's service.

In the first command window 
---------------------------
1) go to mortgage-creditcheck directory 
2) ant compile
3) ant run
You should see the following displayed:
Buildfile: build.xml

run:
     [java] Starting the CreditCheck Service...
     [java] log4j:WARN No appenders could be found for logger (org.apache.axiom.
om.util.StAXUtils).
     [java] log4j:WARN Please initialize the log4j system properly.
     [java] Sep 13, 2007 12:25:41 PM org.apache.tuscany.sca.http.jetty.JettyServ
er addServletMapping
     [java] INFO: Added Servlet mapping: http://localhost:8085/CreditCheckServic
e
     [java] Press Enter to Exit...


In the second command window
----------------------------
1) go to mortgage-loanapproval directory 
2) ant compile
3) ant run

If the loan is approved, you will see the following displayed in the command screen where
mortgage-loanapproval is run:

Buildfile: build.xml
run:
     [java] log4j:WARN No appenders could be found for logger (org.apache.axiom.
om.util.StAXUtils).
     [java] log4j:WARN Please initialize the log4j system properly.
     [java] Credit score for 111-22-3333: 722
     [java] Interest rate for a 30-year loan of $200000.0 in CA: 6.5%
     [java] Approved: John Smith[111-22-3333]

If the loan is disapproved, you will see the following displayed in the command screen where
mortgage-loanapproval is run:

Buildfile: build.xml
run:
     [java] log4j:WARN No appenders could be found for logger (org.apache.axiom.
om.util.StAXUtils).
     [java] log4j:WARN Please initialize the log4j system properly.
     [java] Credit score for 111-22-3333: 708
     [java] Interest rate for a 30-year loan of $200000.0 in CA: 6.5%
     [java] Debt/Income ratio 0.2528272093971861 is too high.
     [java] Rejected: John Smith[111-22-3333]

