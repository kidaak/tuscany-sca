<!--
  Copyright (c) 2005 The Apache Software Foundation or its licensors, as applicable.

  Licensed under the Apache License, Version 2.0 (the "License");
  you may not use this file except in compliance with the License.
  You may obtain a copy of the License at

     http://www.apache.org/licenses/LICENSE-2.0

  Unless required by applicable law or agreed to in writing, software
  distributed under the License is distributed on an "AS IS" BASIS,
  WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
  See the License for the specific language governing permissions and
  limitations under the License.
 -->
<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
<HEAD>
<META http-equiv="Content-Type" content="text/html; charset=iso-8859-1">
<META http-equiv="Content-Style-Type" content="text/css">

<TITLE>Tuscany Acceptance Tests</TITLE>

<!-- LINK rel="stylesheet" href="ait.css" type="text/css" -->
</HEAD>

<BODY>
<H2>Tuscany Acceptance Tests</H2>
<H3>Overview</H3>
<P>These test exercise the Tuscany samples as close as possible as the end user would running the samples.  
<P>Running the acceptance script automates the following:
<ul compact='true'>
<li> Unzips Tomcat to acceptance\target\apache-tomcat-5.5.12 </li>
 <li>Adds org.apache.Tuscany.tomcat.lifecycle.listener.TomcatServerLifecycleListener to server.xml</li>
 <li>Adds org.apache.Tuscany.tomcat.lifecycle.listener.TomcatWebAppLifecycleListener to context.xml</li> 
 <li>Copy Tuscany runtime and dependency jars to common/lib and server/lib </li>
 <li>Deploy Tuscany  sample war files</li>
 <li>Starts tomcat</li>
 <li>Once tomcat is started runs tests against the Tuscany samples.</li>
</ul>

<P>
<H3>Pre-requisites</H3>
<!--
<I>This should point to a common place</I>
-->
<TABLE>
<tr>
<td>
<a href='http://java.sun.com/j2se/1.5.0/download.jsp' target=_blank >Download JDK 5.0</a>
</td>
</tr>
<tr>
<td>
<a href='http://www.apache.org/dyn/closer.cgi/maven/binaries/maven-1.1-beta-2.zip' target=_blank >Maven 1.1-beta-2</a>
</td>
</tr>
<tr>
<td>
<A href='http://tomcat.apache.org/download-55.cgi' target=_blank>apache-tomcat-5.5.12</a> <br clear=all>
&nbsp;&nbsp;&nbsp;<I>Windows:</I>&nbsp;<a href='http://mirrors.combose.com/apache/tomcat/tomcat-5/v5.5.12/bin/apache-tomcat-5.5.12.zip' target=_blank>apache-tomcat-5.5.12.zip</a><br clear=all> 
&nbsp;&nbsp;&nbsp;<I>Linux:</I>&nbsp;<a href='http://www.ibiblio.org/pub/mirrors/apache/tomcat/tomcat-5/v5.5.12/bin/apache-tomcat-5.5.12.tar.gz' target=_blank>apache-tomcat-5.5.12.tar.gz</a>
</td>
</tr>
<tr>
<td>
Internet access, since Maven will pull down additional needed libraries required to do the testing.
</td>
</tr>
</TABLE>

</BODY>
<H3>Setup</H3>
<ol>
<li>The core Tuscany runtime and samples must have already been built successfully by running maven in the main directory.
</li>
<li>The file apache-tomcat-5.5.12.zip (on
Windows) or apache-tomcat-5.5.12.tar.gz (on Unix) must be in the acceptance sub-directory. 
</li>
</ol>

<H3>Running</H3>
<P>All the tests can be run by executing in the acceptance directory:<br>
&nbsp;<BR>
<code>
maven acceptance
</code>

<H3>Coverage</H3>
<P>The testcase exercise the samples that are not covered in the unit tests.  They are executed against a running Tomcat fixed up with Tuscany SCA deployed in acceptance/target/apache-tomcat-5.5.12 
<H3>Results</H3>
<P>The tests use JUnit and HTMLUnit and give standard output provided by these test frameworks. On successful completion you should see from Maven: BUILD SUCCESSFUL 
<P>If all is successful, a configured, tested, and running Tomcat server should be at acceptance\target\apache-tomcat-5.5.12. 

<H3>Clean Up</H3>
The test produces a Tomcat window that can be used to run the test again or used to play with the samples or deploy your own SCA code to.
After you are through stop the Tomcat server by closing the window associated with it.
To clean up the test artifacts run in the acceptance subdirectory: <BR>
&nbsp;<BR>
<code>
maven clean 
</code>

 </HTML>
