<?xml version="1.0" encoding="ASCII"?>
<!--
 * Licensed to the Apache Software Foundation (ASF) under one
 * or more contributor license agreements.  See the NOTICE file
 * distributed with this work for additional information
 * regarding copyright ownership.  The ASF licenses this file
 * to you under the Apache License, Version 2.0 (the
 * "License"); you may not use this file except in compliance
 * with the License.  You may obtain a copy of the License at
 * 
 *   http://www.apache.org/licenses/LICENSE-2.0
 * 
 * Unless required by applicable law or agreed to in writing,
 * software distributed under the License is distributed on an
 * "AS IS" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
 * KIND, either express or implied.  See the License for the
 * specific language governing permissions and limitations
 * under the License.    
-->
<Config xmlns="http:///org.apache.tuscany.das.rdb/config.xsd" dataObjectModel="http://www.bigbank.com/account">
  
  <Table tableName="CUSTOMERS" typeName="CustomerProfileData">
    <!-- Column name="firstName" primaryKey="true"/ -->
    <Column columnName="FIRSTNAME"/>
    <Column columnName="LASTNAME"/> 
    <Column columnName="ADDRESS"/> 
    <Column columnName="EMAIL"/>
     <Column columnName="LOGINID"/> 
     <Column columnName="PASSWORD"/> 
      <Column columnName="ID"/> 
  </Table>
  
  <Table tableName="ACCOUNTS" typeName="AccountSummary">
    <!-- Column name="firstName" primaryKey="true"/ -->
    <Column columnName="ACCOUNTNUMBER"/>
    <Column columnName="BALANCE"/> 
  </Table>



  <Table tableName="STOCKS" typeName="StockSummary" >
    <Column columnName="ID" propertyName="id"/>
    <Column columnName="Symbol" propertyName="symbol"/>
    <Column columnName="quantity" propertyName="quantity"/>
    <Column columnName="purchasePrice" propertyName="purchasePrice"/>
    <Column columnName="PURCHASEDATE"  propertyName="purchaseDate" converterClassName="bigbank.account.services.accountdata.AccountDataServiceDASImpl$DateConverter"/>
  </Table>

	
  <Table tableName="ACCTLOG" typeName="AccountLogEntry">
    <Column columnName="logSeqNo"/>
    <Column columnName="ID"/> 
    <Column columnName="ACCOUNTNUMBER"/>
    <Column columnName="ACTIONTYPE"/>
    <Column columnName="AMOUNT"/> 
  </Table>



  <Table tableName="STOCKLOG" typeName="StockLogEntry" >
    <Column columnName="logSeqNo"/>
    <Column columnName="ID"/>
    <Column columnName="Symbol"/>
    <Column columnName="quantity"/>
    <Column columnName="actionType"/>
    <Column columnName="purchaseLotNumber"/>
  </Table>


  <Command name="get account" SQL="SELECT accountNumber, accountType, balance FROM accounts where accountNumber = ?" kind="Select" />    	
  <Command name="update balance" SQL="update ACCOUNTS set BALANCE = ? where ACCOUNTNUMBER = ?" kind="Update" />    

  <Command name="all customers" SQL="select * from CUSTOMERS"  kind="Select"/>

  <Command name="all stocks" SQL="select symbol, quantity, purchaseprice, purchasedate from stocks"  kind="Select"/>
  <Command name="stockbylotSelect" SQL="select quantity  from STOCKS  WHERE purchaseLotNumber = ?"  kind="Select" />
  <Command name="stockbylot" SQL="update STOCKS set quantity = ? WHERE purchaseLotNumber = ?"  kind="Update" />
	
</Config>
